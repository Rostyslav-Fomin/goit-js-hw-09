{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,MAAOC,SAASC,cAAc,qBAC9BC,KAAMF,SAASC,cAAc,oBAC7BE,OAAQH,SAASC,cAAc,sBAC/BG,qBAAsBJ,SAASC,cAAc,WAE/C,IAAII,EACAC,EACAC,EAEAC,EAAU,KA+Cd,SAASC,EAAcC,EAAUC,GAS/B,OARgB,IAAIC,SAAQ,CAACC,EAASC,KACdC,KAAKC,SAAW,GAEpCpB,EAAAqB,OAAOC,QAAQ,uBAAqBR,QAAiBC,OAErDf,EAAAqB,OAAOE,QAAQ,sBAAoBT,QAAeC,MAAU,G,CAnDlEb,EAAKM,qBAAqBgB,iBAAiB,SAiB3C,SAAiBC,GAEf,GADAA,EAAEC,iBACEhB,EAAM,CACR,IAAIiB,EAAalB,EACbmB,EAAWnB,EACXoB,EAAQ,EACZjB,EAAUkB,YAAW,KACnBjB,EA3BS,EA2BeJ,EAAM,GAC7BA,GACH,IAAK,IAAIsB,EAAI,EAAGA,GAAKpB,EAAQoB,GAAK,EAC5BpB,GAAUkB,IACZD,GAAYlB,EACZmB,GAAS,GAEXjB,EAAUkB,YAAW,KACnBjB,EAAckB,EAAIJ,GAAcjB,EAAM,GACrCkB,GAEL,M,CAEFnB,EAAQP,EAAKC,MAAM6B,MACnB,IAAK,IAAID,EAAI,EAAGA,GAAKpB,EAAQoB,GAAK,EAChCnB,EAAUkB,YAAW,KACnBjB,EAAckB,EAAGtB,EAAM,GACtBA,E,IAxCPP,EAAKC,MAAMqB,iBAAiB,SAI5B,SAAiBC,GACfhB,EAAQwB,OAAOR,EAAES,OAAOF,M,IAJ1B9B,EAAKI,KAAKkB,iBAAiB,SAO3B,SAAgBC,GACdf,EAAOuB,OAAOR,EAAES,OAAOF,M,IAPzB9B,EAAKK,OAAOiB,iBAAiB,SAU7B,SAAkBC,GAChBd,EAASsB,OAAOR,EAAES,OAAOF,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  delay: document.querySelector('input[name=delay]'),\n  step: document.querySelector('input[name=step]'),\n  amount: document.querySelector('input[name=amount]'),\n  createPromisesButton: document.querySelector('button'),\n};\nlet delay;\nlet step;\nlet amount;\nlet position = 1;\nlet timerId = null;\n\nrefs.createPromisesButton.addEventListener('click', onClick);\nrefs.delay.addEventListener('input', onDelay);\nrefs.step.addEventListener('input', onStep);\nrefs.amount.addEventListener('input', onAmount);\n\nfunction onDelay(e) {\n  delay = Number(e.target.value);\n}\n\nfunction onStep(e) {\n  step = Number(e.target.value);\n}\n\nfunction onAmount(e) {\n  amount = Number(e.target.value);\n}\n\nfunction onClick(e) {\n  e.preventDefault();\n  if (step) {\n    let firstDelay = delay;\n    let newDelay = delay;\n    let count = 1;\n    timerId = setTimeout(() => {\n      createPromise(position, delay);\n    }, delay);\n    for (let i = 2; i <= amount; i += 1) {\n      if (amount >= count) {\n        newDelay += step;\n        count += 1;\n      }\n      timerId = setTimeout(() => {\n        createPromise(i, (firstDelay += step));\n      }, newDelay);\n    }\n    return;\n  }\n  delay = refs.delay.value;\n  for (let i = 1; i <= amount; i += 1) {\n    timerId = setTimeout(() => {\n      createPromise(i, delay);\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((reslove, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    }\n  });\n  return promise;\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","delay","document","querySelector","step","amount","createPromisesButton","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$timerId","$47d4ff9957288465$var$createPromise","position1","delay1","Promise","reslove","reject","Math","random","Notify","success","failure","addEventListener","e","preventDefault","firstDelay","newDelay","count","setTimeout","i","value","Number","target"],"version":3,"file":"03-promises.0a689795.js.map"}